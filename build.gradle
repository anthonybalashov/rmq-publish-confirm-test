plugins {
    id 'java'
//    id 'application'
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
    id 'com.github.johnrengelman.shadow' version '2.0.2'
}

apply plugin: "kotlin"

archivesBaseName = 'innMQPubWConfirm'
//application {
//    mainClassName = "main.kotlin.MainKt"
//}



group "inn.RMQPublishConfirms"
version "0.0.1"


compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

repositories {
    mavenCentral()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    compile "com.rabbitmq:amqp-client:5.7.3"
    compile "org.slf4j:slf4j-log4j12:1.7.25"
}



sourceSets {
    main.kotlin.srcDirs += 'src'
}



jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': 'MainKt'
        )
    }
}






compileJava {
    enabled = false
}